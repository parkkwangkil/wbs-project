{% extends 'base.html' %}

{% block title %}개인 프로젝트 - WBS 프로젝트 관리{% endblock %}
{% block page_title %}개인 프로젝트{% endblock %}

{% block content %}
<div class="grid grid-cols-1">
  <div class="card">
    <div class="card-header" style="display:flex;justify-content:space-between;align-items:center;">
      <h2 class="card-title"><i class="fas fa-user" style="margin-right:.5rem;color:var(--text-secondary);"></i>내 개인 프로젝트</h2>
      <a href="{% url 'wbs:project_create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> 새 프로젝트</a>
    </div>
    <div class="card-body">
      {% if projects %}
        <div class="grid grid-cols-1 gap-4">
          {% for project in projects %}
            <div class="card" style="padding: 1.5rem; border: 1px solid var(--card-border);">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;">
                <div style="flex:1;display:flex;gap:1rem;">
                  <div class="avatar avatar-md {{ project.color_theme }}" style="color:#fff;flex-shrink:0;">
                    <i class="fas fa-project-diagram"></i>
                  </div>
                  <div style="flex:1;">
                    <h3 style="margin:0 0 .5rem 0;color:var(--text-heading);font-weight:600;">{{ project.title }}</h3>
                    <p style="color:var(--text-secondary);font-size:.875rem;margin:0 0 1rem 0;">{{ project.description|truncatewords:30 }}</p>
                    <div style="display:flex;gap:1rem;color:var(--text-secondary);font-size:.875rem;flex-wrap:wrap;">
                      <span><i class="fas fa-calendar" style="margin-right:.25rem;"></i>{{ project.start_date }} ~ {{ project.end_date }}</span>
                    </div>
                  </div>
                </div>
                <span class="status-badge status-{{ project.status }}">{{ project.get_status_display }}</span>
              </div>
              <div style="display:flex;gap:.5rem;justify-content:flex-end;">
                <a href="{% url 'wbs:project_detail' project.pk %}" class="btn btn-primary btn-sm"><i class="fas fa-eye"></i> 보기</a>
                <a href="{% url 'wbs:project_edit' project.pk %}" class="btn btn-secondary btn-sm"><i class="fas fa-edit"></i> 편집</a>
                <form action="{% url 'wbs:project_delete' project.pk %}" method="post" onsubmit="return confirm('정말 삭제하시겠습니까?');">
                  {% csrf_token %}
                  <input type="hidden" name="next" value="{% url 'wbs:personal_projects' %}">
                  <button type="submit" class="btn btn-secondary btn-sm" style="background:#ef4444;border:none;color:#fff;"><i class="fas fa-trash"></i> 삭제</button>
                </form>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div style="text-align:center;padding:2rem 1rem;color:var(--text-secondary);">
          <i class="fas fa-user" style="font-size:2rem;margin-bottom:1rem;color:var(--text-disabled);"></i>
          <p>개인 프로젝트가 없습니다.</p>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}


